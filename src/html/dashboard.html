<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - SIMGEs Simlab</title>
    <link rel="stylesheet" href="../css/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <div class="sidebar">
            <div class="logo">SIMGEs</div>
            <a href="dashboard.html" class="menu-item active">Dashboard</a>
            <a href="atendimento.html" class="menu-item">Atendimento</a>
            <a href="configuracoes.html" class="menu-item">Configurações</a>
            <a href="cronograma.html" class="menu-item">Cronograma</a>
            <a href="financeiro.html" class="menu-item">Financeiro</a>
            <a href="logistica.html" class="menu-item">Logística</a>
            <a href="recursos-humanos.html" class="menu-item">Recursos Humanos</a>
            <a href="satisfacao.html" class="menu-item">Satisfação</a>
            <a href="index.html" class="menu-item">Sair</a>
        </div>

        <div class="content">
            <div class="header">
                <h1>Dashboard SIMGEs</h1>
            </div>

            <div class="dashboard-grid">
                <div class="dashboard-item">
                    <h3>Satisfação dos Usuários</h3>
                    <div class="chart-container">
                        <canvas id="satisfactionChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-item">
                    <h3>Ocupação de Salas</h3>
                    <div class="chart-container">
                        <canvas id="occupancyChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-item">
                    <h3>Cronograma de Atividades do Dia</h3>
                    <div id="scheduleContainer" class="chart-container"></div>
                </div>

                <div class="dashboard-item">
                    <h3>Atendimento por Módulos de Habilidades</h3>
                    <div class="chart-container">
                        <canvas id="modulesChart"></canvas>
                    </div>
                </div>

                <div class="dashboard-item">
                    <h3>Produtividade x Ociosidade</h3>
                    <div class="chart-container">
                        <canvas id="productivityChart"></canvas>
                    </div>
                </div>
            </div>

            <div class="module-buttons">
                <button class="module-button" onclick="openModule('emergencia')">Emergência</button>
                <button class="module-button" onclick="openModule('aph')">APH</button>
                <button class="module-button" onclick="openModule('enfermaria')">Enfermaria</button>
                <button class="module-button" onclick="openModule('uti')">UTI</button>
                <button class="module-button" onclick="openModule('centro-cirurgico')">Centro Cirúrgico</button>
            </div>
        </div>
    </div>

    <script>
        // Simulated data for the charts
        const satisfactionData = {
            labels: ['Muito Satisfeito', 'Satisfeito', 'Neutro', 'Insatisfeito', 'Muito Insatisfeito'],
            datasets: [{
                data: [45, 30, 15, 7, 3],
                backgroundColor: ['#2ecc71', '#3498db', '#f1c40f', '#e67e22', '#e74c3c']
            }]
        };

        const occupancyData = {
            labels: ['Sala 1', 'Sala 2', 'Sala 3', 'Sala 4', 'Sala 5'],
            datasets: [{
                label: 'Ocupação (%)',
                data: [80, 65, 90, 75, 85],
                backgroundColor: ['#3498db']
            }]
        };

        const modulesData = {
            labels: ['Emergência', 'APH', 'Enfermaria', 'UTI', 'Centro Cirúrgico', 'Outros'],
            datasets: [{
                data: [30, 25, 20, 15, 10, 5],
                backgroundColor: ['#e74c3c', '#3498db', '#2ecc71', '#f1c40f', '#9b59b6', '#34495e']
            }]
        };

        const productivityData = {
            labels: ['Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta'],
            datasets: [
                {
                    label: 'Produtividade (%)',
                    data: [75, 80, 85, 78, 82],
                    borderColor: '#2ecc71',
                    fill: false
                },
                {
                    label: 'Ociosidade (%)',
                    data: [25, 20, 15, 22, 18],
                    borderColor: '#e74c3c',
                    fill: false
                }
            ]
        };

        // Rendering charts
        new Chart(document.getElementById('satisfactionChart').getContext('2d'), {
            type: 'pie',
            data: satisfactionData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' }
                }
            }
        });

        new Chart(document.getElementById('occupancyChart').getContext('2d'), {
            type: 'bar',
            data: occupancyData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: { beginAtZero: true }
                }
            }
        });

        new Chart(document.getElementById('modulesChart').getContext('2d'), {
            type: 'doughnut',
            data: modulesData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'right' }
                }
            }
        });

        new Chart(document.getElementById('productivityChart').getContext('2d'), {
            type: 'line',
            data: productivityData,
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: { y: { beginAtZero: true } }
            }
        });

        // Function to generate a simulated schedule
        function generateSchedule() {
            const scheduleContainer = document.getElementById('scheduleContainer');
            const periods = ['Manhã', 'Tarde', 'Noite'];
            const activities = [
                'Aula Prática de Emergência',
                'Simulação de APH',
                'Treinamento de Enfermagem',
                'Workshop de Farmácia',
                'Simulação de Cirurgia',
                'Prática de Obstetrícia'
            ];

            periods.forEach(period => {
                const periodElement = document.createElement('div');
                periodElement.innerHTML = `<h4>${period}</h4>`;
                const activityList = document.createElement('ul');

                for (let i = 0; i < 3; i++) {
                    const activity = activities[Math.floor(Math.random() * activities.length)];
                    const time = `${10 + i}:00`;
                    const listItem = document.createElement('li');
                    listItem.textContent = `${time} - ${activity}`;
                    activityList.appendChild(listItem);
                }

                periodElement.appendChild(activityList);
                scheduleContainer.appendChild(periodElement);
            });
        }

        // Generate schedule on page load
        generateSchedule();

        // Function to open modules
        function openModule(moduleName) {
            alert(`Abrindo o módulo de ${moduleName}`);
        }
    </script>
</body>

</html>

